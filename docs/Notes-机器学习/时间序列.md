# 参考教程
1. [时间序列模型：ARIMA](https://www.jianshu.com/p/54d222bbfe0e)
# 时间序列分析
时间序列函数：

$$
X_t = f(X_{t-1}, X_{t-2}, \ldots, X_{t-p})
$$

没有直接把时间t作为自变量，而是将前p个序列值作为自变量。

# 稳定时间序列
时间序列分类：
- 独立时间序列：$X_{n+1}$与过去的序列值$X_t$相互独立
- 稳定时间序列：$X_{n+1}$的信息隐含在其历史$X_t$之中。

我们需要由历史来推测未来，则研究的序列对象是**稳定时间序列**，稳定时间序列满足：**常量的均值、常量的方差、与时间t无关的自协方差**。

自协方差：$cov(X_i, X_j) = E[(X_i-\mu)(X_j-\mu)]=\gamma_{i-j}$

平稳序列的任意n阶自协方差矩阵是**非负定矩阵**

# 白噪声
白噪声服从高斯分布，$X_t$是一个白噪声，服从分布$WN(\mu, \sigma^2)$。

**一般用白噪声来验证原始时间序列和拟合时间序列的残差序列**

# 相关性分析
## 协方差

两个随机变量X和Y满足未知的概率分布，则可以用协方差来衡量X和Y之间的相关性。

$$
cov(X,Y) = E[(X-E(X))(Y-E(Y))]
$$

而在实际应用中，由于**整体的概率分布未知**（无法计算出数学期望），则用X和Y的观测值来计算样本的协方差，其中$\mu_{X}$和$\mu_{Y}$分别为X和Y的均值。

$$
cov(X,Y) = \frac{1}{n-1}\sum_{i=1}^n(x_i-\mu_X)(y_i-\mu_Y)
$$

用协方差描述随机变量的相关性，只能做到**定性分析**，无法做到**定量分析**。

## Pearson相关系数

为了对随机变量的相关性做定量分析，需要**消除协方差之间的量纲**，为此引入Pearson相关系数。

$$
\begin{aligned}
corr(X,Y) & = \frac 
{E[(X-E(X))(Y-E(Y))]}
{\sqrt{var(X)}\sqrt{var(Y)}}
= \frac{cov(X,Y)}{\sigma_X\sigma_Y} \\
& = \frac
{\sum_{i=1}^n(x_i-\mu_X)(y_i-\mu_Y)}
{\sum_{i=1}^n(x_i-\mu_X)\sum_{i=1}^n(y_i-\mu_Y)}
\end{aligned}
$$

与$cov(X,Y)$相比，加入了标准差进行归一化，取值范围在[-1,1]之间。

等于+1，X和Y成正相关；等于-1，X和Y成负相关；等于0时，X和Y无线性关系。

## 时间序列相关性分析—ACK和PACK


# 模型
## AR自回归模型

$AR(p)$模型的意义为：

（1）任意一个t时刻的序列值 = t时刻的前p个序列值的线性组合 + t时刻的随机误差

（2）以历史序列为自变量，建立线性模型来预测未来

## MA滑动平均模型

$MA(q)$模型的含义为：

（1）任意一个t时刻的序列值 = t时刻的前q个序列的白噪声累加和的线性组合 + t时刻的随机误差

（2）以历史白噪声为自变量，建立线性模型来预测未来

## ARMA模型

将一个p阶的自回归模型和一个q阶的滑动平均模型组合在一起，便得到了一个阶数为（p，q）的自回归滑动平均模型，记为$ARMA(p,q)$模型

## ARIMA模型

ARIMA模型：对时间序列$\{X_t\}$进行**d次差分**得到一个新的差分时间序列$\{Y_{t}\}$，再对该序列使用ARMA模型，为此ARIMA模型比ARMA模型多了一层思想：**差分**。

一般的，**一个非平稳序列经过d次差分后，可以转化为平稳时间序列**。

